var SupercarouselImage=new function(){var $$=this
$$.super_frame=!1,$$.super_frame_element=!1,jQuery(document).ready(function(){jQuery(".super_select_image").length&&jQuery(document).on("click",".super_select_image",function(event){if(event.preventDefault(),$$.super_frame&&jQuery(this).is($$.super_frame_element))return void $$.super_frame.open()
$$.super_frame_element=this
var multiple="1"==jQuery(this).data("multiple")?!0:!1,callback=jQuery(this).data("callback")
$$.super_frame=wp.media({title:"Select or Upload Images",button:{text:"Select Images"},multiple:multiple}),$$.super_frame.on("select",function(){var attachment=$$.super_frame.state().get("selection").toJSON()
""!=callback&&eval(callback+"(attachment)")}),$$.super_frame.open()}),jQuery(".supercarousel-images").length&&jQuery(".supercarousel-images").sortable({handle:".superthumb"}),jQuery("#superimageexpand_button").length&&jQuery("#superimageexpand_button").prop("checked",!1)}),$$.remove_super_image=function(e){jQuery(e).parent().remove()},$$.super_change_target=function(e){e.checked?jQuery(e).parent().parent().parent().find(".supertarget").val(1):jQuery(e).parent().parent().parent().find(".supertarget").val(0)},$$.superimage_toggle_expand=function(e){e.checked?jQuery(".supercarousel-images").removeClass("superthumbs"):jQuery(".supercarousel-images").addClass("superthumbs")},$$.change_super_image=function(e){var t=e[0],a=jQuery($$.super_frame_element).parent().parent().parent()
a.find('input[name="superimage[id][]"]').val(t.id),a.find(".superthumb").attr("src",SupercarouselCommon.get_super_thumb(t.sizes))},$$.add_images_superimage=function(e){var t=""
for(i=0;i<e.length;i++)t+='<div class="supercarousel-image">',t+='<input type="hidden" name="superimage[id][]" value="'+e[i].id+'" />',t+='<a href="javascript: void(0);" onclick="SupercarouselImage.remove_super_image(this);" class="superredbtn small fr imagedetails">Delete</a>',t+='<div class="superimgcaption">',t+='<div class="superimgwrap centered">',t+='<a href="javascript: void(0);" onclick="SupercarouselImage.remove_super_image(jQuery(this).parent().parent());" class="superthumbdelete"><span class="dashicons dashicons-no-alt"></span></a>',t+='<img class="superthumb" src="'+SupercarouselCommon.get_super_thumb(e[i].sizes)+'" />',t+='<a class="imagedetails superbluebtn btnchangeimage super_select_image" data-multiple="0" data-callback="SupercarouselImage.change_super_image" href="javascript: void(0);"><span class="dashicons dashicons-format-image"></span> Change Image</a>',t+="</div>",t+='<div class="imagedetails">',t+='<textarea name="superimage[caption][]"></textarea>',t+="</div>",t+="</div>",t+='<div class="imagedetails">',t+='<input type="text" name="superimage[lightbox][]" placeholder="Lightbox URL" />',t+='<input type="text" name="superimage[link][]" placeholder="Link URL" />',t+='<input type="hidden" class="supertarget" name="superimage[newwindow][]" value="0" />',t+='<div class="superimgtarget">',t+="<label>New Window: </label>&nbsp;",t+='<label class="superonoff small"><input onclick="SupercarouselImage.super_change_target(this);" type="checkbox" /><span class="icon"></span></label>',t+="</div>",t+="</div>",t+="</div>"
jQuery(".supercarousel-images").append(t)}}
